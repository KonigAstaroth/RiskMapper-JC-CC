{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuperación de contraseña</title>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="{% static 'images/web-icon-Eclipse.png' %}">
    <link rel="icon" type="image/png" href="{% static 'icons/web-icon-Eclipse.png' %}">
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>
    {% if success %}
    <div class="alert alert-success" style="width: 50%; text-align: center; z-index: 999; position: fixed; top: 0; left: 25%;" id="success-alert" role="alert">
        {{ success }}
        <script>
            setTimeout(function() {
                var successbox = document.getElementById("success-alert");
                if (successbox) {
                    successbox.style.transition = "opacity 0.75s";
                    successbox.style.opacity = "0";
                    setTimeout(() => successbox.remove(), 500); 
                }
            }, 3000); 
        </script>
    </div>
    {% endif %}

    {% if error %}
    <div class="alert alert-danger" style="width: 50%; text-align: center ; z-index: 999; position: fixed; top: 0; left: 25%;" id="error-alert" role="alert">
        {{ error }}
        <script>
            setTimeout(function() {
                var alertBox = document.getElementById("error-alert");
                if (alertBox) {
                    alertBox.style.transition = "opacity 0.75s";
                    alertBox.style.opacity = "0";
                    setTimeout(() => alertBox.remove(), 500); 
                }
            }, 3000); 
        </script>
    </div>
    {% endif %}

    <div class="container">

        <div >
            <img src="{% static 'images/Eclipse.png' %}" style="width: 420px;">
        </div>
        
        <div class="forgot-card">
            <div class="content">
                <h1 class="login">Restablecer Contraseña</h1>
                <p class="muted-text">Proporcione la dirección de correo electrónico asociada a su cuenta para restablecer su contraseña. Si no aparece en su bandeja de correo, revisar la bandeja de correo no deseado o spam</p>
    
                <form class="forgot-form" method="POST" action="{% url 'send-recover-mail' %}">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="email" class="muted-text">Ingrese su correo<span class="text-danger">*</span></label>
                        <input type="email" class="cbr-text-input" id="email" name="email" placeholder="Ingrese su correo" required>
                    </div>
                    
                    <div class="submit">
                        <button type="submit" class="cbr-accent-button">Restablecer Contraseña</button>
                    </div>
                </form>                               
                <hr class="separation">                
                <a href="{% url 'login' %}" style="text-decoration: none;font-family: Inter, sans-serif; color: #727171; display: flex; align-self: flex-end;" class="back">Login</a>                                    
            </div>           
        </div>
    </div>

    <footer class="eclipse-footer">
      <div class="copyright">
          <img src="{% static 'images/eclipse-black.png' %}" style="height: 3em;">
          <span class="bttm_links">© 2025</span>
      </div>
      <a href="{% url 'policy' %}" class="bttm_links">Politica de privacidad</a>
      <a href="#" class="bttm_links">Politica de copyright</a>
    </footer>
</body>
</body>
</html>